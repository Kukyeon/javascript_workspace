<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
  table {
    border-collapse: collapse;
  }
  td, th{
    border: 1px solid #aaa;
    padding: 8px 10px;
  }
</style>
</head>
<body>
    <script>
        fetch('https://jsonplaceholder.typicode.com/posts')
        .then((response) => {
            return response.json();
        })
        .then((data) => {
            console.log("데이터1", data);
        });

        const getData = async () => {
            try{
           const response = await fetch('https://jsonplaceholder.typicode.com/posts');
           //비동기 요청-> 테스트 api 서버에 데이터 요청
            const data = await response.json();
            //받아온 json 데이터를 자바스킈립트 객체 배열로 변환
            console.log("데이터2:",data.slice(0,10));
            //콘솔에 데이터 중 10개만 출력
            const tbody = document.querySelector("#fetchTable tbody");
            //html (body) 내의 <table id="fetchTable"> 불러오기
            data.slice(0,10).forEach(items => {
                const row = document.createElement("tr"); // 새로운 줄 생성
                const idCell = document.createElement("td");
                idCell.textContent = items.id // id cell
                row.appendChild(idCell); 

                const titleCell = document.createElement("td");
                titleCell.textContent = items.title // title cell
                row.appendChild(titleCell); 

                const bodyCell = document.createElement("td");
                bodyCell.textContent = items.body // body cell
                row.appendChild(bodyCell);
                
                tbody.appendChild(row);
            });   
        }catch(error){
            console.log(error.message);
        }  
        }
        document.addEventListener("DOMContentLoaded", () => {
                getData();
            });
            //DOM 이 다 준비되면 getData() 함수를 실행하라는 뜻
        
    </script>

    <table id="fetchTable">
        <thead>
            <tr>
                <th>ID</th>
                <th>TITLE</th>
                <th>BODY</th>
            </tr>
        </thead>
        <tbody>
      
        </tbody>
  </table>
</body>
</html>